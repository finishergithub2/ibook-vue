(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{212:function(v,_,t){"use strict";t.r(_);var e=t(0),o=Object(e.a)({},function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"_22用户登录案例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_22用户登录案例","aria-hidden":"true"}},[v._v("#")]),v._v(" 22用户登录案例")]),v._v(" "),t("p",[v._v('利用 " '),t("strong",[v._v("路由守卫")]),v._v(" + "),t("strong",[v._v("sessionStorage")]),v._v(' " 实现'),t("strong",[v._v("非登录用户")]),v._v("访问后台首页就   "),t("strong",[v._v("强制")]),v._v("去登录的效果")]),v._v(" "),t("p",[t("img",{attrs:{src:"/img/5-1555383551578.png",alt:"1555383551578"}})]),v._v(" "),t("p",[v._v("上图：前后端分离式项目开发，用户首次"),t("strong",[v._v("登陆")]),v._v("系统，服务器端要给前端分配一个"),t("strong",[v._v("token")]),v._v("(其是令牌) ，之后前端可以带着token对服务器端进行访问，已便对数据进行 增、删、改、查 操作")]),v._v(" "),t("p",[v._v("token本身在服务器端有时效，过了时间点就要求用户重新登陆并获取新的token")]),v._v(" "),t("p",[v._v("token的使用避免了每次请求输入用户名和密码账号了，token是用户名和密码的变形，但都是是加密信息，更安全")]),v._v(" "),t("p",[v._v("反过来讲，如果前端登录用户没有获取到token，则不允许其登录系统，相反要强制登录")]),v._v(" "),t("p",[v._v("具体实现：")]),v._v(" "),t("p",[v._v("效果：")]),v._v(" "),t("p",[v._v("A. 管理员登录系统后，会生成token令牌信息，自己带着")]),v._v(" "),t("p",[v._v("B.退出系统，销毁token令牌")]),v._v(" "),t("p",[v._v("C. 非登录用户访问后台首页，就会强制退出并让其访问登录页面")]),v._v(" "),t("p",[v._v("小结")]),v._v(" "),t("ol",[t("li",[t("p",[v._v("路由  是对 #锚点、onhashchange、hash、component  的封装 使用起来更加方便、高级")])]),v._v(" "),t("li",[t("p",[v._v("路由本身是一个功能模块，安装后可以使用，应用部分有如下主要步骤：")]),v._v(" "),t("ol",[t("li",[v._v("导入路由模块import")]),v._v(" "),t("li",[v._v("注册模块Vue.use()")]),v._v(" "),t("li",[v._v("导入各个应用组件")]),v._v(" "),t("li",[v._v("创建对象 path component  redirect  children")]),v._v(" "),t("li",[v._v("挂载对象  Vue({router})")]),v._v(" "),t("li",[v._v("router-link")]),v._v(" "),t("li",[v._v("router-view")])])]),v._v(" "),t("li",[t("p",[v._v("redirect用于给路由设置重定向")])]),v._v(" "),t("li",[t("p",[v._v("router-link-active是路由切换激活按钮设置css高亮样式")])]),v._v(" "),t("li",[t("p",[v._v("路由传参：在路由里边通过"),t("strong",[v._v("冒号方式")]),v._v(" 定义要传递参数，路由里边/子组件中都需要定义props:true")]),v._v(" "),t("p",[v._v("​\t\t\t\tprops:[名称]")])]),v._v(" "),t("li",[t("p",[v._v("编程式导航：")]),v._v(" "),t("p",[v._v("​\trouter-link是静态方式定义组件切换按钮，是“静态路由导航”")]),v._v(" "),t("p",[v._v("​\t有的时候，组件的显示不是通过点击按钮实现，而是在业务逻辑执行过程中根据条件动态加载的，这时候就需要使用“编程式导航”，this.$router.push()/go()/forward()/back(),这是"),t("strong",[v._v("程序代码")]),v._v("方式显示的路由跳转")])]),v._v(" "),t("li",[t("p",[v._v("路由守卫：")]),v._v(" "),t("p",[v._v('每个路由在执行的时候都必须经过一个关卡，就像旧时代人们要进城必须经过城门一样，在这个关卡中可以对路由做一些业务上的设计，这个关卡就是守卫，即"路由守卫"')]),v._v(" "),t("p",[v._v("router.beforeEach(function("),t("strong",[v._v("to")]),v._v(","),t("strong",[v._v("from")]),v._v(","),t("strong",[v._v("next")]),v._v("){ next() })")])]),v._v(" "),t("li",[t("p",[v._v("webstorage客户端存储：")]),v._v(" "),t("p",[v._v("之前在客户端存储数据通常都使用cookie,但是其有种种弊端(例如单个key存储数据量小)，html5发明了webstorage 技术用于替代cookie")]),v._v(" "),t("p",[v._v("sessionStorage  localStorage")]),v._v(" "),t("p",[v._v("getItem()  setItem()  removeItem() clear()")])])])])},[],!1,null,null,null);_.default=o.exports}}]);