<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>18vue单文件组件 | Vue基础课程</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.533636f2.css" as="style"><link rel="preload" href="/assets/js/app.1e20b0dd.js" as="script"><link rel="preload" href="/assets/js/2.01302ed6.js" as="script"><link rel="preload" href="/assets/js/23.5dab8886.js" as="script"><link rel="prefetch" href="/assets/js/10.1be43c5a.js"><link rel="prefetch" href="/assets/js/11.83dea3fc.js"><link rel="prefetch" href="/assets/js/12.4f3aded7.js"><link rel="prefetch" href="/assets/js/13.3fc1322d.js"><link rel="prefetch" href="/assets/js/14.579367cc.js"><link rel="prefetch" href="/assets/js/15.14763da5.js"><link rel="prefetch" href="/assets/js/16.33d8f928.js"><link rel="prefetch" href="/assets/js/17.12b06441.js"><link rel="prefetch" href="/assets/js/18.96ef931a.js"><link rel="prefetch" href="/assets/js/19.611bb5ed.js"><link rel="prefetch" href="/assets/js/20.20508e85.js"><link rel="prefetch" href="/assets/js/21.7e6beb81.js"><link rel="prefetch" href="/assets/js/22.8ae1a2ae.js"><link rel="prefetch" href="/assets/js/24.5f63462d.js"><link rel="prefetch" href="/assets/js/25.bc6fb3bc.js"><link rel="prefetch" href="/assets/js/26.ff8e2ce8.js"><link rel="prefetch" href="/assets/js/27.17e49bf6.js"><link rel="prefetch" href="/assets/js/28.8606f290.js"><link rel="prefetch" href="/assets/js/29.68665670.js"><link rel="prefetch" href="/assets/js/3.e4bc0eb8.js"><link rel="prefetch" href="/assets/js/30.92053faf.js"><link rel="prefetch" href="/assets/js/31.0262ef9d.js"><link rel="prefetch" href="/assets/js/32.d6b39673.js"><link rel="prefetch" href="/assets/js/33.7f00622c.js"><link rel="prefetch" href="/assets/js/34.7159f2a3.js"><link rel="prefetch" href="/assets/js/4.f04df7cd.js"><link rel="prefetch" href="/assets/js/5.e9f033da.js"><link rel="prefetch" href="/assets/js/6.d9aded3e.js"><link rel="prefetch" href="/assets/js/7.21e13b72.js"><link rel="prefetch" href="/assets/js/8.5f477c68.js"><link rel="prefetch" href="/assets/js/9.5e988fc0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.533636f2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Vue基础课程</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/frontEnd/" class="nav-link">前端规范</a></div><div class="nav-item"><a href="/development/" class="nav-link">开发环境</a></div><div class="nav-item"><a href="/notes/" class="nav-link">学习文档</a></div><div class="nav-item"><a href="https://www.iyouhun.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  游魂博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/chinese.html" class="nav-link">Chinese</a></li><li class="dropdown-item"><!----> <a href="/language/English.html" class="nav-link">English</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/frontEnd/" class="nav-link">前端规范</a></div><div class="nav-item"><a href="/development/" class="nav-link">开发环境</a></div><div class="nav-item"><a href="/notes/" class="nav-link">学习文档</a></div><div class="nav-item"><a href="https://www.iyouhun.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  游魂博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/chinese.html" class="nav-link">Chinese</a></li><li class="dropdown-item"><!----> <a href="/language/English.html" class="nav-link">English</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vue/01课程介绍.html" class="sidebar-link">01课程介绍</a></li><li><a href="/vue/02vue介绍.html" class="sidebar-link">02vue介绍</a></li><li><a href="/vue/03相关指令.html" class="sidebar-link">03相关指令</a></li><li><a href="/vue/04品牌管理案例.html" class="sidebar-link">04品牌列表案例</a></li><li><a href="/vue/05computed计算属性.html" class="sidebar-link">05computed计算属性</a></li><li><a href="/vue/06过滤器.html" class="sidebar-link">06过滤器</a></li><li><a href="/vue/07按键修饰符.html" class="sidebar-link">07按键修饰符</a></li><li><a href="/vue/08自定义指令.html" class="sidebar-link">08自定义指令</a></li><li><a href="/vue/09vue扩展.html" class="sidebar-link">09vue扩展</a></li><li><a href="/vue/10vue生命周期.html" class="sidebar-link">10vue生命周期</a></li><li><a href="/vue/11Promise.html" class="sidebar-link">11Promise</a></li><li><a href="/vue/12axios.html" class="sidebar-link">12axios</a></li><li><a href="/vue/13品牌管理案例升级.html" class="sidebar-link">13品牌管理案例升级</a></li><li><a href="/vue/14vue-devtools的安装使用.html" class="sidebar-link">14vue-devtools的安装使用</a></li><li><a href="/vue/15ES6模块化.html" class="sidebar-link">15ES6模块化</a></li><li><a href="/vue/16VueCLI.html" class="sidebar-link">16VueCLI</a></li><li><a href="/vue/17组件.html" class="sidebar-link">17组件</a></li><li><a href="/vue/18vue单文件组件.html" class="active sidebar-link">18vue单文件组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#什么是" class="sidebar-link">什么是</a></li><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#创建-vue单文件组件" class="sidebar-link">创建.vue单文件组件</a></li><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#vue-loader" class="sidebar-link">vue-loader</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#配置" class="sidebar-link">配置</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#应用" class="sidebar-link">应用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#私有组件" class="sidebar-link">私有组件</a></li><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#全局组件" class="sidebar-link">全局组件</a></li><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#scoped属性" class="sidebar-link">scoped属性</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#组件嵌套" class="sidebar-link">组件嵌套</a></li><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#工欲善其事必先利其器" class="sidebar-link">工欲善其事必先利其器</a></li><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#父子组件传递数据" class="sidebar-link">父子组件传递数据</a></li><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#扩展" class="sidebar-link">扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#组件的this" class="sidebar-link">组件的this</a></li><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#render方法" class="sidebar-link">render方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue/18vue单文件组件.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vue/19SPA.html" class="sidebar-link">19SPA</a></li><li><a href="/vue/20路由router.html" class="sidebar-link">20路由router</a></li><li><a href="/vue/21WebStorage技术.html" class="sidebar-link">21WebStorage技术</a></li><li><a href="/vue/22用户登录案例.html" class="sidebar-link">22用户登录案例</a></li><li><a href="/vue/23watch监听器.html" class="sidebar-link">23watch监听器</a></li><li><a href="/vue/24ESLint代码规范检查.html" class="sidebar-link">24ESLint代码规范检查</a></li><li><a href="/vue/25ElementUI.html" class="sidebar-link">25ElementUI</a></li><li><a href="/vue/26相关资源.html" class="sidebar-link">26相关资源</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_18vue单文件组件"><a href="#_18vue单文件组件" aria-hidden="true" class="header-anchor">#</a> 18vue单文件组件</h1> <h2 id="什么是"><a href="#什么是" aria-hidden="true" class="header-anchor">#</a> 什么是</h2> <p>定义：</p> <p>把一个<strong>组件</strong>的全部内容汇合到一个文件中，这个文件是以<code>.vue</code>结尾的就称作**.vue单文件组件**</p> <p>普通组件的缺点：</p> <p>普通vue组件是 和 其它JS代码逻辑掺杂在一块儿，代码不易维护，其优势没有发挥到极致！</p> <h2 id="创建-vue单文件组件"><a href="#创建-vue单文件组件" aria-hidden="true" class="header-anchor">#</a> 创建.vue单文件组件</h2> <p>单文件组件的构成：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>每个 .vue 单文件组件由三部分组成：</p> <ul><li>template 结构		// 都是html标签内容组成</li> <li>script 行为            // 定义javascript代码部分</li> <li>style 样式              // 定义css样式部分</li></ul> <p>说明：</p> <ul><li>template用于设定组件要显示的内容，内部必须有一个<font color="red">根节点</font>(例如div)，可以理解为View部分</li> <li>script通过ES6模块化(export default)方式导出一个对象，这个对象本质就是 [new Vue(对象参数)] Vue实例的对象参数部分，故内部所有的<strong>成员</strong>与Vue实例基本一致(也会拥有data、methods、components、filters、created等成员)</li> <li>style设定样式，作用给template内部的各个html标签</li></ul> <p>组件扩展使用如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{co1}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{co2}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        co1<span class="token punctuation">:</span> <span class="token string">'序号'</span><span class="token punctuation">,</span>
        co2<span class="token punctuation">:</span> <span class="token string">'名称'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    components<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    filters<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">li</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="vue-loader"><a href="#vue-loader" aria-hidden="true" class="header-anchor">#</a> vue-loader</h2> <p>.vue单文件组件本质上与css、img、less等都是属于特定类型内容，要想webpack可以打包处理也需要找到对应的加载器，处理vue单文件组件的加载器名称为 ”<strong>vue-loader</strong>“ ，请先<strong>安装</strong>和<strong>配置</strong></p> <p><a href="https://vue-loader.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">Vue-Loader官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="/img/4-6-2.png" alt=""></p> <h3 id="安装"><a href="#安装" aria-hidden="true" class="header-anchor">#</a> 安装</h3> <p>运行指令，安装vue-loader</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm install vue<span class="token operator">-</span>loader vue<span class="token operator">-</span>template<span class="token operator">-</span>compiler <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><blockquote><p>vue-template_compiler是vue-loader的依赖，必须一并安装，否则vue-loader无效</p></blockquote> <h3 id="配置"><a href="#配置" aria-hidden="true" class="header-anchor">#</a> 配置</h3> <p>在webpack.config.js文件中，添加rules匹配规则，使得.vue单文件组件可以被loader解析处理</p> <p>具体<a href="https://vue-loader.vuejs.org/zh/guide/#%E6%89%8B%E5%8A%A8%E8%AE%BE%E7%BD%AE" target="_blank" rel="noopener noreferrer">请参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>：</p> <p><img src="/img/4-1553755634334.png" alt="1553755634334"></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js</span>
<span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-loader/lib/plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// ... 其它规则</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.vue$/</span><span class="token punctuation">,</span>
        loader<span class="token punctuation">:</span> <span class="token string">'vue-loader'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 请确保引入这个插件！</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre></div><blockquote><p>webpack配置文件修改后都需要重启服务</p></blockquote> <blockquote><p>rules:使得vue文件可以被vue-loader处理</p> <p>VueLoaderPlugin：使得各种loader也能针对vue单文件组件内容起作用，例如style-loader处理css内容、less-loader处理less内容、url-loader处理图片内容、babel-loader处理es6/es7内容等</p></blockquote> <h2 id="应用"><a href="#应用" aria-hidden="true" class="header-anchor">#</a> 应用</h2> <h3 id="私有组件"><a href="#私有组件" aria-hidden="true" class="header-anchor">#</a> 私有组件</h3> <p>如果一个组件只需要在当前Vue实例中被使用，就声明为<strong>私有</strong>的</p> <ol><li>定义组件内容(<code>src/components/xxx.vue</code>)</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	xxx
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
		xxx
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
	xxx
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><ol start="2"><li>主入口文件(<code>src/index.js</code>)导入组件模块，并注册为<strong>私有</strong>组件</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token constant">XXX</span> <span class="token keyword">from</span> <span class="token string">'./components/xxx.vue'</span> 
<span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  components<span class="token punctuation">:</span><span class="token punctuation">{</span>
    <span class="token comment">// 名称: 组件</span>
    <span class="token string">'com-xxx'</span><span class="token punctuation">:</span> <span class="token constant">XXX</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><blockquote><p>Vue实例内部有components成员，可以注册私有组件</p></blockquote> <ol start="3"><li>在模板文件(<code>src/index.html</code>)中使用组件</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com-xxx</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>com-xxx</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h3 id="全局组件"><a href="#全局组件" aria-hidden="true" class="header-anchor">#</a> 全局组件</h3> <p>如果一个组件需要在当前Vue的许多实例中被应用，就声明为全局的</p> <p>主入口文件(<code>src/index.js</code>)导入组件模块，并注册为<strong>全局</strong>组件</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token constant">XXX</span> <span class="token keyword">from</span> <span class="token string">'./components/xxx.vue'</span> 
<span class="token comment">// Vue.component(名称, 组件)</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'com-xxx'</span><span class="token punctuation">,</span><span class="token constant">XXX</span><span class="token punctuation">)</span>

</code></pre></div><blockquote><p>Vue本身有component成员方法，可以注册全局组件</p></blockquote> <h3 id="scoped属性"><a href="#scoped属性" aria-hidden="true" class="header-anchor">#</a> scoped属性</h3> <p>默认情况下，vue单文件组件的style样式是<a href="">全局的</a>，</p> <p>如果在一个应用中使用了<strong>多个</strong>单文件组件，它们使用<span style="background-color:yellow;">相同选择器</span>为相同的元素设置了style样式，那么只有一个会起作用(后者会覆盖前者)</p> <p>解决方法：</p> <p>给每个style标签都设置一个<code>scoped</code>属性，这样各个单文件组件的html标签解析出来后都会带有一个与其他单组件标签不同的<code>data-v-xxx</code>的唯一属性，style样式设定也会自动与本身组件的<code>data-v-xxx</code>联系起来，这样就使得style样式只针对自己的组件起作用了</p> <p>设置：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span>  <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  xxxxx
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>注意：</p> <p>尽管有scoped，但是不同的组件间还是尽量<strong>不要使用相同名称</strong>的选择器</p> <h2 id="组件嵌套"><a href="#组件嵌套" aria-hidden="true" class="header-anchor">#</a> 组件嵌套</h2> <p>多个组件根据业务需要可以一并使用，它们之间可以形成平级关系 也 可以形成嵌套关系，</p> <p>下边就讲解下组件<strong>嵌套</strong>的实现</p> <p><img src="/img/1560827125478.png" alt="1560827125478"></p> <p>index.html主模板文件------(包括)-------&gt;父组件-------(包括)---------&gt;子组件</p> <ol><li><p>定义两个组件(<code>src/components/Fat.vue</code> 和 <code>src/components/Son.vue</code>)</p> <p>Son.vue内容</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是son子级组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>Fat.vue内容(注册子组件 并 使用)</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是fat父级组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-son</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-son</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 引入son子级组件模块</span>
  <span class="token keyword">import</span> MySon <span class="token keyword">from</span> <span class="token string">'./Son.vue'</span>
  
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token comment">// 进行私有组件注册，只能声明为私有组件</span>
    components<span class="token punctuation">:</span><span class="token punctuation">{</span>
      <span class="token string">'my-son'</span><span class="token punctuation">:</span> MySon
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div></li> <li><p>在入口文件src/index.js中<strong>引入并注册</strong>父组件</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> ComFat <span class="token keyword">from</span> <span class="token string">'./components/Fat.vue'</span> 
<span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  components<span class="token punctuation">:</span><span class="token punctuation">{</span>
    <span class="token string">'com-fat'</span><span class="token punctuation">:</span> ComFat
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div></li> <li><p>在主模板中使用父组件</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com-fat</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>com-fat</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre></div></li></ol> <blockquote><p>index.html-----------&gt;fat.vue------------&gt;son.vue</p></blockquote> <p>注意：</p> <p>​	父组件 与 子组件 形成嵌套关系，它们的style样式要避免使用相同的选择器</p> <h2 id="工欲善其事必先利其器"><a href="#工欲善其事必先利其器" aria-hidden="true" class="header-anchor">#</a> 工欲善其事必先利其器</h2> <p>给vscode编辑器安装两个扩展，使得代码的编辑更加<strong>快速</strong>和<strong>高效</strong></p> <p><img src="/img/1560827238530.png" alt="1560827238530"></p> <ol><li><p>Vetur：</p> <p>支持 vue 文件的代码语法高亮、代码格式化等</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;vetur.format.options.tabSize&quot;: 2,

</code></pre></div></li> <li><p>Vue 2 Snippets：</p> <p>给vue文件做代码片段的配置，使得代码片段的文件类型增加上<strong>vue</strong></p> <p><img src="/img/4-6-5.png" alt=""></p> <p><img src="/img/4-6-6.png" alt=""></p> <p>内容参考如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;Create vue template&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;prefix&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;vuec&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;body&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
     <span class="token string">&quot;&lt;template&gt;&quot;</span><span class="token punctuation">,</span>
     <span class="token string">&quot;    &lt;div&gt;$1&lt;/div&gt;&quot;</span><span class="token punctuation">,</span>
     <span class="token string">&quot;&lt;/template&gt;&quot;</span><span class="token punctuation">,</span>
     <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
     <span class="token string">&quot;&lt;script&gt;&quot;</span><span class="token punctuation">,</span>
     <span class="token string">&quot;export default {&quot;</span><span class="token punctuation">,</span>
     <span class="token string">&quot;}&quot;</span><span class="token punctuation">,</span>
     <span class="token string">&quot;&lt;/script&gt;&quot;</span><span class="token punctuation">,</span>
     <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
     <span class="token string">&quot;&lt;style lang=\&quot;less\&quot; scoped&gt;&quot;</span><span class="token punctuation">,</span>
     <span class="token string">&quot;&lt;/style&gt;&quot;</span><span class="token punctuation">,</span>
     <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Create vue template&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><blockquote><p>现在就可以在vue单文件组件中通过<code>vuec</code>代码片段把一个组件的主结构内容给绘制出来</p></blockquote></li></ol> <h2 id="父子组件传递数据"><a href="#父子组件传递数据" aria-hidden="true" class="header-anchor">#</a> 父子组件传递数据</h2> <p>父子组件之间通信也是常见操作，例如一个button按钮组件，给其传递参数，可以决定该按钮以什么样式进行显示</p> <p><img src="/img/4-1555144810287.png" alt="1555144810287"></p> <blockquote><p>自行把父、子嵌套结构制作好</p></blockquote> <ol><li><p>父组件中(Fat.vue)通过“<code>属性</code>”给子组件传递数据</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com-button</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>25px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bgcolor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>blue<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>com-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com-button</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>20px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bgcolor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>green<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>com-button</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><blockquote><p>给com-button组件传递两个数据 size 和 bgcolor</p> <p>父组件给子组件传递的数据既可以是 “普通数据” 也可以是 “组件数据(属性绑定)”</p></blockquote></li> <li><p>子组件中(Son.vue)通过props对父组件 传递的数据进行接收</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'size'</span><span class="token punctuation">,</span> <span class="token string">'bgcolor'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div></li> <li><p>子组件(Son.vue)使用 父组件 传递来的数据</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token punctuation">{</span><span class="token string">'font-size'</span><span class="token punctuation">:</span>size<span class="token punctuation">,</span><span class="token string">'background-color'</span><span class="token punctuation">:</span>bgcolor<span class="token punctuation">}</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre></div></li></ol> <h2 id="扩展"><a href="#扩展" aria-hidden="true" class="header-anchor">#</a> 扩展</h2> <h3 id="组件的this"><a href="#组件的this" aria-hidden="true" class="header-anchor">#</a> 组件的this</h3> <p>在vue单文件组件中，this关键字是对象的体现，具体是<code>VueComponent</code>，其继承<code>Vue实例</code>,因此使用上与Vue实例基本一致，可以用于调用data或methods成员</p> <h3 id="render方法"><a href="#render方法" aria-hidden="true" class="header-anchor">#</a> render方法</h3> <p>通过之前生命周期函数内容的学习可知，render函数可以实现内容渲染和覆盖容器效果，优先级比el还要高，</p> <p>render还有一个作用，就是可以把一个<strong>单文件组件</strong>做为主体内容对容器进行渲染。</p> <p>render函数使用的语法</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">c</span><span class="token punctuation">(</span>标签，标签内部包含的信息<span class="token punctuation">)</span>			<span class="token comment">//创建一个标签</span>
  <span class="token keyword">return</span> <span class="token function">c</span><span class="token punctuation">(</span>vue组件<span class="token punctuation">)</span>									<span class="token comment">//通过vue组件进行渲染</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="小结"><a href="#小结" aria-hidden="true" class="header-anchor">#</a> 小结</h2> <ol><li><p>vue单文件组件相比普通组件更加<strong>专业</strong>、优势更明显</p></li> <li><p>vue单文件组件有<strong>三部分</strong>组成(template/script/style)</p></li> <li><p>vue单文件组件需要通过<strong>vue-loader</strong>解析处理(类似less文件需要有less-loader处理)</p></li> <li><p>vue单文件组件可以通过component声明为<strong>全局</strong>组件  或 components声明为<strong>私有</strong>组件</p></li> <li><p>两个组件可以形成<strong>父子</strong>的嵌套关系</p></li> <li><p>由于业务需要，组件间需要<strong>传递</strong>数据</p> <p>父给子：属性值、props</p></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vue/17组件.html" class="prev">
          17组件
        </a></span> <span class="next"><a href="/vue/19SPA.html">
          19SPA
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1e20b0dd.js" defer></script><script src="/assets/js/2.01302ed6.js" defer></script><script src="/assets/js/23.5dab8886.js" defer></script>
  </body>
</html>
